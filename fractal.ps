%!PS

/fractal 
{ 
    count 1 eq
    {
        1 dict begin
            /num exch def
            num 1 ge
            {
                /startX 8.5 2 div 72 mul def       % 72 is about an inch
                /startY 11 2 div 72 mul def

                /tLength 72 2 mul def
                /tHight 72 2 mul def

                /tDraw
                {   
                    newpath
                        0 0 moveto
                        tLength 2 div neg tHight neg lineto
                        tLength 2 div tHight neg lineto
                        0 0 lineto
                        closepath
                    fill
                }
                def

                /decNum { /num num 1 sub def } def

                /rFractal
                {
                    count 1 eq
                    {
                        num 1 ge
                        {
                            1 dict begin
                                /num exch def
                                decNum

                                % transformations for right
                                gsave
                                    tLength 2 div tHight neg translate
                                    .5 .5 scale
                                    45 rotate
                                    tDraw
                                    num rFractal
                                grestore

                                % transformations for left
                                gsave
                                    tLength 2 div neg tHight neg translate
                                    .5 .5 scale
                                    -45 rotate
                                    tDraw
                                    num rFractal
                                grestore
                                
                            end
                        }
                        if
                    }
                    if
                }
                def

                gsave
                    1 0 0 setrgbcolor
                    startX startY translate

                    tDraw

                    num rFractal

                    showpage
                grestore
            }
            if
        end
    }
    if
} 
def